Z := 1000;

f1 := frames32(Z);
if (f1.size != Z)
    fail("f1.size");
if (len(f1) != 0)
    fail("len(f1) != 0");
for (i := 0; i < f1.size; ++i)
    f1[i] = 1.0;
if (len(f1) != Z)
    fail("len != Z");

f2 := frames32(Z, pi);
if (len(f2) != f2.size)
    fail("len(f2) != f2.size");
if (abs(f2[15] - pi) > 0.000001)
    fail(sprintf("f2[15] != pi - %.18g vs %.18g", f2[15], pi));

// Apply gain.
f1 *= 1.2;

if (f1[Z-1] != 2.0)
    fail("f1[Z-1] != 2.0");

f1.myprop = 28;
if (f1.myprop != 28)
    fail("f1.myprop != 28");
